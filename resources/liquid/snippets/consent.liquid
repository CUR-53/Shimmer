<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }

  const defaultConsentSettings = {
    functionality_storage: 'granted',
    analytics_storage: 'denied',
    personalization_storage: 'denied',
    ad_storage: 'denied',
    ad_user_data: 'denied',
    ad_personalization: 'denied',
    wait_for_update: 3000,
  };

  const consentSettings = localStorage.getItem('consentSettings') ? JSON.parse(localStorage.getItem('consentSettings')) : defaultConsentSettings;

  gtag('consent', 'default', consentSettings);
  gtag('set', 'ads_data_redaction', false);
  gtag('set', 'url_passthrough', true);
</script>
